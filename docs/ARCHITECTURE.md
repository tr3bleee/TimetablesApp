# üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
```
app/
‚îú‚îÄ‚îÄ _layout.tsx              # –ö–æ—Ä–Ω–µ–≤–æ–π layout —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
‚îú‚îÄ‚îÄ (tabs)/                  # –û—Å–Ω–æ–≤–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã –≤ —Ç–∞–±–∞—Ö
‚îÇ   ‚îú‚îÄ‚îÄ _layout.tsx         # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Ç–∞–±–∞–º
‚îÇ   ‚îú‚îÄ‚îÄ index.tsx           # –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
‚îÇ   ‚îú‚îÄ‚îÄ teacher.tsx         # –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ favorites.tsx       # –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
‚îÇ   ‚îî‚îÄ‚îÄ settings.tsx        # –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ schedule/               # –≠–∫—Ä–∞–Ω—ã —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ [id].tsx           # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã
‚îî‚îÄ‚îÄ teacher/                # –≠–∫—Ä–∞–Ω—ã –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
    ‚îî‚îÄ‚îÄ [id].tsx           # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π —Ä–æ—É—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è

components/                 # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ GroupList.tsx          # –°–ø–∏—Å–æ–∫ –≥—Ä—É–ø–ø
‚îú‚îÄ‚îÄ TeacherList.tsx        # –°–ø–∏—Å–æ–∫ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ ScheduleView.tsx       # –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
‚îú‚îÄ‚îÄ LessonCard.tsx         # –ö–∞—Ä—Ç–æ—á–∫–∞ –∑–∞–Ω—è—Ç–∏—è
‚îî‚îÄ‚îÄ WeekSelector.tsx       # –í—ã–±–æ—Ä –Ω–µ–¥–µ–ª–∏

contexts/                  # React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
‚îú‚îÄ‚îÄ FavoritesContext.tsx   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–º
‚îú‚îÄ‚îÄ ThemeContext.tsx       # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π
‚îî‚îÄ‚îÄ ScheduleSettingsContext.tsx # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```

## –ù–∞–≤–∏–≥–∞—Ü–∏—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–æ—É—Ç–∏–Ω–≥–∞
```typescript
type RootStackParamList = {
  '(tabs)': undefined;
  'info': undefined;
  'schedule/[id]': { id: string };
  'teacher/[id]': { id: string };
};
```

### –°—Ö–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
```
Root
‚îú‚îÄ‚îÄ (tabs)
‚îÇ   ‚îú‚îÄ‚îÄ index (–ì—Ä—É–ø–ø—ã)
‚îÇ   ‚îú‚îÄ‚îÄ teacher (–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª–∏)
‚îÇ   ‚îú‚îÄ‚îÄ favorites (–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)
‚îÇ   ‚îî‚îÄ‚îÄ settings (–ù–∞—Å—Ç—Ä–æ–π–∫–∏)
‚îú‚îÄ‚îÄ schedule/[id] (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã)
‚îú‚îÄ‚îÄ teacher/[id] (–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è)
‚îî‚îÄ‚îÄ info (–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
```

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –ö–æ–Ω—Ç–µ–∫—Å—Ç—ã

#### FavoritesContext
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏:
```typescript
interface FavoritesContextType {
  favorites: FavoriteItem[];
  addToFavorites: (item: GroupInfo | TeacherInfo, type: 'group' | 'teacher') => Promise<void>;
  removeFromFavorites: (id: number, type: 'group' | 'teacher') => Promise<void>;
  isFavorite: (id: number, type: 'group' | 'teacher') => boolean;
}
```

#### ThemeContext
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–º–æ–π –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è:
```typescript
interface ThemeContextType {
  isDarkTheme: boolean;
  useSystemTheme: boolean;
  toggleTheme: () => Promise<void>;
  toggleSystemTheme: () => Promise<void>;
}
```

#### ScheduleSettingsContext
–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è:
```typescript
interface ScheduleSettings {
  showCabinetNumbers: boolean;
  showTeacherNames: boolean;
  compactMode: boolean;
  showLessonNumbers: boolean;
}
```

## –ü–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
```mermaid
graph TD
    A[–í—ã–±–æ—Ä –≥—Ä—É–ø–ø—ã/–ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è] --> B[API –∑–∞–ø—Ä–æ—Å]
    B --> C{–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞}
    C -->|–ï—Å—Ç—å –≤ –∫—ç—à–µ| D[–í–æ–∑–≤—Ä–∞—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö]
    C -->|–ù–µ—Ç –≤ –∫—ç—à–µ| E[–ó–∞–≥—Ä—É–∑–∫–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞]
    E --> F[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –∫—ç—à]
    F --> G[–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö]
    D --> G
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–±—Ä–∞–Ω–Ω—ã–º
```mermaid
graph TD
    A[–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ] --> B[FavoritesContext]
    B --> C[AsyncStorage]
    C --> D[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI]
    D --> E[–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ]
```

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### ScheduleView
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–Ω—è–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WeekSelector

#### GroupList/TeacherList
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å FavoritesContext

#### LessonCard
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–Ω—è—Ç–∏–∏
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å ScheduleSettingsContext

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```mermaid
graph TD
    A[App Layout] --> B[Tabs Layout]
    B --> C[GroupList]
    B --> D[TeacherList]
    B --> E[Favorites]
    B --> F[Settings]
    C --> G[ScheduleView]
    D --> G
    G --> H[LessonCard]
    G --> I[WeekSelector]
```

## –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### AsyncStorage
- –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–µ–º—ã
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- –ö—ç—à —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

### –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
interface CacheItem<T> {
  data: T;
  timestamp: number;
  expiry: number;
}
```

## –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –°—Ç—Ä–∞—Ç–µ–≥–∏–∏
1. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
2. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–æ–≤
3. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
4. –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
```typescript
// –ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–ø–∏—Å–∫–∞
const MemoizedItem = React.memo(({ item }) => (
  <View>
    <Text>{item.name}</Text>
  </View>
));

const VirtualizedList = () => (
  <FlatList
    data={items}
    renderItem={({ item }) => <MemoizedItem item={item} />}
    getItemLayout={(data, index) => ({
      length: ITEM_HEIGHT,
      offset: ITEM_HEIGHT * index,
      index,
    })}
  />
);
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```typescript
try {
  const data = await api.fetchSchedule();
} catch (error) {
  if (error instanceof NetworkError) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
  } else if (error instanceof ValidationError) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  }
}
```

## –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏
3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–æ—É—Ç–æ–≤
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–∏–ø–æ–≤

### –ú–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
1. –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏